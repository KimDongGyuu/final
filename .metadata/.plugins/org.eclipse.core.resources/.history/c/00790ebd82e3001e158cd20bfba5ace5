package com.ace.controller;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.multipart.MultipartFile;

import com.ace.company_news.model.FileUploadDTO;
import java.io.*;

@Controller
public class FileController {

	@RequestMapping("/fileUpload.do")
	public String fileUpload(FileUploadDTO dto) {
		copyInto(dto.getNews_file());
		return "company_news/fileOk";
	}
	
	/**파일복사 메서드*/
	public void copyInto(MultipartFile news_file) {
		System.out.println("파일명 : "+news_file.getOriginalFilename());
		
		try {
			byte bytes[] = news_file.getBytes(); //원본
			File f = new File("C:/JavaStudy/upload/"+news_file.getOriginalFilename()); //빈 종이 
			FileOutputStream fos = new FileOutputStream(f); //복사기에 빈종이 삽입
			fos.write(bytes);
			fos.close();
		} catch (IOException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		} 
	}
}
